# 类和动态内存分配

## 类的特殊函数

| 特殊类函数类型 | 应用场景 | 注意事项 | 对标基本类型操作 | 代码示例 |
| :----------:|:-------|:--------|:-------------|:-------|
|默认构造函数|未提供显式初始值时，包括没有使用构造函数初始化的对象数组|仅当没有定义任意构造函数时，编译器提供默认构造函数，否则需要程序员提供。构造函数所有参数提供默认值和没有参数的方式只能选一个。Stock fluffy();是函数定义。|变量声明：int a;|Stock fluffy;|
|复制构造函数| | | | |
|自动转换|将内置类型赋值给对象，参考下面创建临时对象的场景|只一个参数没有默认值的构造函数可以作为转换函数，使用时会创建临时对象并赋值；使用explicit声明构造函数可以关闭自动转换，允许显式转换；没有二义性时才允许|将类型兼容的值自动转换为接收变量的类型：long count = 9;|无|
|转换函数|将对象转换为内置数据类型，如double|必须是类方法，不能有返回值，不能有参数，可以强制也可以让编译器选，使用explicit会让转换运行为只能显式 | 内置的数据类型转换 | operator double();|
|重载运算符函数|将运算符用于用户对象定义| 只能使用有效运算符； 编译器根据操作数翻译，district2 = sid+sara; -> district2 = sid.operator+(sara);二元运算符长需要定义为友元，按所需顺序获得操作数：|基本类型的运算，例如整型相加|operator*op*(*argument-list*)|
|重载赋值运算符|
|析构函数|对象过期时调用|没有参数，只有一个|无|无|
|友元函数|重载二元运算符|不使用限定符|无|无|

会创建临时对象的场景：
1. 将内置类型赋值给对象；
2. 实参为内置类型，形参为对象；
3. 返回值声明为对象的函数试图返回double值时
## 类的特殊对象
